import{S as De,i as we,s as Ee,k as D,a as Z,l as w,m as E,c as X,h as p,n as b,a2 as he,b as M,T as y,a3 as ce,f as $,g as J,t as A,d as K,a1 as F,q as N,r as W,p as O,u as Q,$ as ue,O as L,w as Ie,x as ze,y as Me,z as je,N as P,a4 as x,U as Se}from"./singletons-c9b53750.js";import{g as Ve}from"./Disclaimer-15eeef6d.js";import{t as Te,c as He,m as Ze,a as U,b as z,d as G,f as H,I as Xe}from"./Footer-1dbbfb42.js";function $e(e,t){const a=+Te(e);return He(e,a+t)}function C(e,t){return $e(e,t*Ze)}function ee(e,t,a){const n=e.slice();return n[22]=t[a],n[24]=a,n}function te(e,t,a){const n=e.slice();return n[25]=t[a],n}function le(e,t,a){const n=e.slice();return n[22]=t[a],n}function ne(e,t,a){const n=e.slice();return n[30]=t[a][0],n[31]=t[a][1],n}function se(e){let t,a,n=e[1].title+"",r,f,l,o,i,_,g;const h=[Ne,Oe],u=[];function c(s,m){return s[5].length>0?0:1}return l=c(e),o=u[l]=h[l](e),{c(){t=D("div"),a=D("div"),r=N(n),f=Z(),o.c(),this.h()},l(s){t=w(s,"DIV",{class:!0,style:!0});var m=E(t);a=w(m,"DIV",{class:!0});var d=E(a);r=W(d,n),d.forEach(p),f=X(m),o.l(m),m.forEach(p),this.h()},h(){b(a,"class","uppercase brand-text-color-secondary text-lg"),b(t,"class",i="absolute top-[81px] w-[300px] border dark:border-gray-400 bg-white dark:bg-brand-dark dark:text-gray-200 z-50 py-2 px-4 "+(e[1]?"hidden md:block":"hidden")),O(t,"left",(e[1].event.layerX+e[2]<e[3]?e[1].event.layerX:e[1].event.layerX-e[2])+"px"),he(()=>e[12].call(t))},m(s,m){M(s,t,m),y(t,a),y(a,r),y(t,f),u[l].m(t,null),_=ce(t,e[12].bind(t)),g=!0},p(s,m){(!g||m[0]&2)&&n!==(n=s[1].title+"")&&Q(r,n);let d=l;l=c(s),l===d?u[l].p(s,m):(J(),A(u[d],1,1,()=>{u[d]=null}),K(),o=u[l],o?o.p(s,m):(o=u[l]=h[l](s),o.c()),$(o,1),o.m(t,null)),(!g||m[0]&2&&i!==(i="absolute top-[81px] w-[300px] border dark:border-gray-400 bg-white dark:bg-brand-dark dark:text-gray-200 z-50 py-2 px-4 "+(s[1]?"hidden md:block":"hidden")))&&b(t,"class",i),(!g||m[0]&14)&&O(t,"left",(s[1].event.layerX+s[2]<s[3]?s[1].event.layerX:s[1].event.layerX-s[2])+"px")},i(s){g||($(o),g=!0)},o(s){A(o),g=!1},d(s){s&&p(t),u[l].d(),_()}}}function Oe(e){let t,a;return{c(){t=D("div"),a=N("No events"),this.h()},l(n){t=w(n,"DIV",{class:!0});var r=E(t);a=W(r,"No events"),r.forEach(p),this.h()},h(){b(t,"class","text-lg mt-4 brand-text-color-secondary")},m(n,r){M(n,t,r),y(t,a)},p:L,i:L,o:L,d(n){n&&p(t)}}}function Ne(e){let t,a,n=e[5],r=[];for(let l=0;l<n.length;l+=1)r[l]=ie(ne(e,n,l));const f=l=>A(r[l],1,1,()=>{r[l]=null});return{c(){t=D("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){t=w(l,"DIV",{class:!0});var o=E(t);for(let i=0;i<r.length;i+=1)r[i].l(o);o.forEach(p),this.h()},h(){b(t,"class","text-xl mt-4")},m(l,o){M(l,t,o);for(let i=0;i<r.length;i+=1)r[i].m(t,null);a=!0},p(l,o){if(o[0]&32){n=l[5];let i;for(i=0;i<n.length;i+=1){const _=ne(l,n,i);r[i]?(r[i].p(_,o),$(r[i],1)):(r[i]=ie(_),r[i].c(),$(r[i],1),r[i].m(t,null))}for(J(),i=n.length;i<r.length;i+=1)f(i);K()}},i(l){if(!a){for(let o=0;o<n.length;o+=1)$(r[o]);a=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)A(r[o]);a=!1},d(l){l&&p(t),F(r,l)}}}function ae(e){let t;return{c(){t=N("*")},l(a){t=W(a,"*")},m(a,n){M(a,t,n)},d(a){a&&p(t)}}}function re(e){let t,a=e[30].segments[e[31]].title+"",n;return{c(){t=N("- "),n=N(a)},l(r){t=W(r,"- "),n=W(r,a)},m(r,f){M(r,t,f),M(r,n,f)},p(r,f){f[0]&32&&a!==(a=r[30].segments[r[31]].title+"")&&Q(n,a)},d(r){r&&p(t),r&&p(n)}}}function ie(e){let t,a,n,r,f,l=(e[30].shortname||e[30].name)+"",o,i,_,g;n=new Xe({props:{item:e[30],width:"h-8"}});let h=e[30].hidden&&ae(),u=e[30].segments[e[31]].title&&re(e);return{c(){t=D("div"),a=D("div"),Ie(n.$$.fragment),r=Z(),f=D("div"),o=N(l),h&&h.c(),i=Z(),u&&u.c(),_=Z(),this.h()},l(c){t=w(c,"DIV",{class:!0});var s=E(t);a=w(s,"DIV",{class:!0});var m=E(a);ze(n.$$.fragment,m),m.forEach(p),r=X(s),f=w(s,"DIV",{class:!0});var d=E(f);o=W(d,l),h&&h.l(d),i=X(d),u&&u.l(d),d.forEach(p),_=X(s),s.forEach(p),this.h()},h(){b(a,"class",""),b(f,"class",""),b(t,"class","flex gap-2 items-center mb-1")},m(c,s){M(c,t,s),y(t,a),Me(n,a,null),y(t,r),y(t,f),y(f,o),h&&h.m(f,null),y(f,i),u&&u.m(f,null),y(t,_),g=!0},p(c,s){const m={};s[0]&32&&(m.item=c[30]),n.$set(m),(!g||s[0]&32)&&l!==(l=(c[30].shortname||c[30].name)+"")&&Q(o,l),c[30].hidden?h||(h=ae(),h.c(),h.m(f,i)):h&&(h.d(1),h=null),c[30].segments[c[31]].title?u?u.p(c,s):(u=re(c),u.c(),u.m(f,null)):u&&(u.d(1),u=null)},i(c){g||($(n.$$.fragment,c),g=!0)},o(c){A(n.$$.fragment,c),g=!1},d(c){c&&p(t),je(n),h&&h.d(),u&&u.d()}}}function oe(e){let t,a,n,r=H(new Date(e[22]),"eee ",{timeZone:z.tz})+"",f,l,o=H(new Date(e[22]),"d",{timeZone:z.tz})+"",i,_,g;return{c(){t=D("div"),a=D("a"),n=D("span"),f=N(r),l=Z(),i=N(o),_=Z(),this.h()},l(h){t=w(h,"DIV",{class:!0,style:!0});var u=E(t);a=w(u,"A",{href:!0});var c=E(a);n=w(c,"SPAN",{class:!0});var s=E(n);f=W(s,r),s.forEach(p),l=X(c),i=W(c,o),c.forEach(p),_=X(u),u.forEach(p),this.h()},h(){b(n,"class","hidden md:inline-block"),b(a,"href",ue+"/day/"+H(new Date(e[22]),"yyyy-MM-dd",{timeZone:z.tz})),b(t,"class",g="mb-1 uppercase "+(e[0]&&e[0]!==e[22]?"text-gray-400 text-lg":"text-brand-green text-lg")),O(t,"width",1/(e[6].length/100)+"%")},m(h,u){M(h,t,u),y(t,a),y(a,n),y(n,f),y(a,l),y(a,i),y(t,_)},p(h,u){u[0]&1&&g!==(g="mb-1 uppercase "+(h[0]&&h[0]!==h[22]?"text-gray-400 text-lg":"text-brand-green text-lg"))&&b(t,"class",g)},d(h){h&&p(t)}}}function de(e){let t,a,n,r,f;return{c(){t=D("div"),this.h()},l(l){t=w(l,"DIV",{id:!0,"data-events":!0,"data-score":!0,class:!0,style:!0}),E(t).forEach(p),this.h()},h(){b(t,"id",e[22]+"-"+e[25]),b(t,"data-events",a=e[4][[e[22],e[25]].join(";")].events),b(t,"data-score",n=e[4][[e[22],e[25]].join(";")].score),b(t,"class","md:hover:border md:hover:border-brand-yellow flex-grow cursor-pointer"),O(t,"width",1/(e[7].length/50)+"%"),O(t,"opacity",e[4][[e[22],e[25]].join(";")].perc/100),O(t,"background-color",!e[0]||e[0]===e[22]?"var(--brand-green)":"115, 115, 115")},m(l,o){M(l,t,o),r||(f=[P(t,"click",function(){x(e[9](e[22],e[25],e[4][[e[22],e[25]].join(";")]))&&e[9](e[22],e[25],e[4][[e[22],e[25]].join(";")]).apply(this,arguments)}),P(t,"mouseenter",function(){x(e[8](e[22],e[25],e[4][[e[22],e[25]].join(";")]))&&e[8](e[22],e[25],e[4][[e[22],e[25]].join(";")]).apply(this,arguments)}),P(t,"mouseleave",e[10])],r=!0)},p(l,o){e=l,o[0]&16&&a!==(a=e[4][[e[22],e[25]].join(";")].events)&&b(t,"data-events",a),o[0]&16&&n!==(n=e[4][[e[22],e[25]].join(";")].score)&&b(t,"data-score",n),o[0]&16&&O(t,"opacity",e[4][[e[22],e[25]].join(";")].perc/100),o[0]&1&&O(t,"background-color",!e[0]||e[0]===e[22]?"var(--brand-green)":"115, 115, 115")},d(l){l&&p(t),r=!1,Se(f)}}}function fe(e){let t,a,n,r=e[7],f=[];for(let l=0;l<r.length;l+=1)f[l]=de(te(e,r,l));return{c(){t=D("div");for(let l=0;l<f.length;l+=1)f[l].c();a=Z(),this.h()},l(l){t=w(l,"DIV",{class:!0,style:!0});var o=E(t);for(let i=0;i<f.length;i+=1)f[i].l(o);a=X(o),o.forEach(p),this.h()},h(){b(t,"class","h-10 flex flex-grow hover:bg-brand-yellow/20"),b(t,"style",n="width: "+1/(e[6].length/100)+"%; "+(e[0]&&e[0]===e[22]?"border: 1px solid var(--brand-green);":e[0]?e[6].length-e[24]>1?"border-right: 1px solid silver;":"":"border-right: 1px solid var(--brand-green);"))},m(l,o){M(l,t,o);for(let i=0;i<f.length;i+=1)f[i].m(t,null);y(t,a)},p(l,o){if(o[0]&2001){r=l[7];let i;for(i=0;i<r.length;i+=1){const _=te(l,r,i);f[i]?f[i].p(_,o):(f[i]=de(_),f[i].c(),f[i].m(t,a))}for(;i<f.length;i+=1)f[i].d(1);f.length=r.length}o[0]&1&&n!==(n="width: "+1/(l[6].length/100)+"%; "+(l[0]&&l[0]===l[22]?"border: 1px solid var(--brand-green);":l[0]?l[6].length-l[24]>1?"border-right: 1px solid silver;":"":"border-right: 1px solid var(--brand-green);"))&&b(t,"style",n)},d(l){l&&p(t),F(f,l)}}}function We(e){let t,a,n,r,f,l,o,i,_=e[1]&&se(e),g=e[6],h=[];for(let s=0;s<g.length;s+=1)h[s]=oe(le(e,g,s));let u=e[6],c=[];for(let s=0;s<u.length;s+=1)c[s]=fe(ee(e,u,s));return{c(){t=D("div"),_&&_.c(),a=Z(),n=D("div");for(let s=0;s<h.length;s+=1)h[s].c();f=Z(),l=D("div");for(let s=0;s<c.length;s+=1)c[s].c();this.h()},l(s){t=w(s,"DIV",{class:!0});var m=E(t);_&&_.l(m),a=X(m),n=w(m,"DIV",{class:!0});var d=E(n);for(let V=0;V<h.length;V+=1)h[V].l(d);d.forEach(p),f=X(m),l=w(m,"DIV",{class:!0});var j=E(l);for(let V=0;V<c.length;V+=1)c[V].l(j);j.forEach(p),m.forEach(p),this.h()},h(){b(n,"class","flex text-center text-gray-400 text-sm items-end h-10"),he(()=>e[13].call(n)),b(l,"class",o="w-full border "+(e[0]?"border-gray-300":"border-brand-green")+" flex"),b(t,"class","w-full mb-10 relative")},m(s,m){M(s,t,m),_&&_.m(t,null),y(t,a),y(t,n);for(let d=0;d<h.length;d+=1)h[d].m(n,null);r=ce(n,e[13].bind(n)),y(t,f),y(t,l);for(let d=0;d<c.length;d+=1)c[d].m(l,null);i=!0},p(s,m){if(s[1]?_?(_.p(s,m),m[0]&2&&$(_,1)):(_=se(s),_.c(),$(_,1),_.m(t,a)):_&&(J(),A(_,1,1,()=>{_=null}),K()),m[0]&65){g=s[6];let d;for(d=0;d<g.length;d+=1){const j=le(s,g,d);h[d]?h[d].p(j,m):(h[d]=oe(j),h[d].c(),h[d].m(n,null))}for(;d<h.length;d+=1)h[d].d(1);h.length=g.length}if(m[0]&2001){u=s[6];let d;for(d=0;d<u.length;d+=1){const j=ee(s,u,d);c[d]?c[d].p(j,m):(c[d]=fe(j),c[d].c(),c[d].m(l,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=u.length}(!i||m[0]&1&&o!==(o="w-full border "+(s[0]?"border-gray-300":"border-brand-green")+" flex"))&&b(l,"class",o)},i(s){i||($(_),i=!0)},o(s){A(_),i=!1},d(s){s&&p(t),_&&_.d(),F(h,s),r(),F(c,s)}}}const B=60,Ae="09:00-18:00";function qe(e,t,a){let n,{data:r}=t,{highlightDay:f=!1}=t;const l=z.date,o=U(z.date,z.days-1),i=r.bundle;let _,g,h=null;const u=[];let c=l;for(;G(new Date(c),new Date(o))<=0;)u.push(H(new Date(c),"yyyy-MM-dd",{timeZone:z.tz})),c=U(new Date(c),1);const s=[];let m="00:00";for(;!s.includes(m);)s.push(H(new Date(l+"T"+m),"HH:mm",{timeZone:z.tz})),m=H(C(new Date(l+"T"+m),B),"HH:mm",{timeZone:z.tz});const d={};for(const v of u)for(const k of s)d[[v,k].join(";")]={score:0,events:[]};function j(v,k,I,S){for(const T of u)for(const q of s){const R=new Date(`${T}T${q}`),ye=new Date(C(R,B));if(G(R,v.end)<0&&G(ye,v.start)>0){const ke=I?I>3e3?3e3:I<200?200:I:0,Y=d[[T,q].join(";")];Y.score+=ke||0,Y.events.push([k,S])}}}for(const v of i.events)for(let k=0;k<v.segments.length;k++){const I=v.segments[k],[S,T]=(I.times||Ae).split("-"),q={start:new Date(`${I.date}T${S}`),end:new Date(`${T<=S?H(U(new Date(I.date),1),"yyyy-MM-dd",{timeZone:z.tz}):I.date}T${T}`)};j(q,v.id,I.ecap||v.attendees,k)}const V=Math.max(...Object.keys(d).map(v=>d[v].score));for(const v of Object.keys(d)){const k=d[v];k.perc=k.score/(V/100)}function _e(v,k,I){const S=new Date(`${v}T${k}`),T=H(S,"EEEE MMMM d | HH:mm - ",{timeZone:z.tz})+H(C(S,B),"HH:mm",{timeZone:z.tz});return q=>{a(1,h={day:v,segment:k,data:I,event:q,title:T})}}function me(v,k,I){const S=new Date(`${v}T${k}`),T=C(S,B);Ve(`${ue}/day/${v}?start=${S.toISOString()}&end=${T.toISOString()}`)}function ge(){a(1,h=null)}function ve(v){return i.events.find(k=>k.id===v)}function pe(){_=this.clientWidth,a(2,_)}function be(){g=this.clientWidth,a(3,g)}return e.$$set=v=>{"data"in v&&a(11,r=v.data),"highlightDay"in v&&a(0,f=v.highlightDay)},e.$$.update=()=>{e.$$.dirty[0]&2&&a(5,n=h?h.data.events.map(v=>[ve(v[0]),v[1]]):[])},[f,h,_,g,d,n,u,s,_e,me,ge,r,pe,be]}class Le extends De{constructor(t){super(),we(this,t,qe,We,Ee,{data:11,highlightDay:0},null,[-1,-1])}}export{Le as T};

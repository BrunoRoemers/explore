import{S as J,i as K,s as O,a as S,w as q,k as M,$ as Q,h as v,c as V,x as A,l as k,m as z,n as w,b as B,y as C,T as b,f as T,d as R,t as I,z as F,a0 as U,_ as X,q as L,r as N,u as W,g as Y}from"../../../chunks/singletons-2e385432.js";import{p as ee}from"../../../chunks/stores-ce237ea6.js";import{T as te}from"../../../chunks/TimelineHeatmap-707c84b9.js";import{D as ae}from"../../../chunks/Disclaimer-5096a831.js";import{C as se}from"../../../chunks/CalendarList-e9cb5a42.js";import{F as ne,g as P,b as x,d as re,a as Z}from"../../../chunks/Footer-abb653ea.js";import{H as le}from"../../../chunks/EventTypeBadge-38559f4b.js";function j(r,i,n){const m=r.slice();return m[5]=i[n],m}function G(r){let i,n,m,c=P(new Date(r[5].date),x.tz,"MMMM d, yyyy")+"",p,d,g,o,D,u=P(new Date(r[5].date),x.tz,"EEEE")+"",$,_,h,l,t;return l=new se({props:{date:r[3].params.date,segments:r[5].segments,prefix:r[1],bundle:r[0].bundle}}),{c(){i=M("div"),n=M("h2"),m=M("a"),p=L(c),g=S(),o=M("span"),D=L("- "),$=L(u),_=S(),h=M("div"),q(l.$$.fragment),this.h()},l(f){i=k(f,"DIV",{class:!0});var e=z(i);n=k(e,"H2",{class:!0});var a=z(n);m=k(a,"A",{href:!0,class:!0});var y=z(m);p=N(y,c),y.forEach(v),g=V(a),o=k(a,"SPAN",{class:!0});var E=z(o);D=N(E,"- "),$=N(E,u),E.forEach(v),a.forEach(v),_=V(e),h=k(e,"DIV",{class:!0});var s=z(h);A(l.$$.fragment,s),s.forEach(v),e.forEach(v),this.h()},h(){w(m,"href",d=r[1]+"/day/"+r[5].date),w(m,"class","text-bbw-navy hover:underline"),w(o,"class","bbw-text-color-primary"),w(n,"class","text-3xl md:text-3xl"),w(h,"class","mt-6"),w(i,"class","mb-14")},m(f,e){B(f,i,e),b(i,n),b(n,m),b(m,p),b(n,g),b(n,o),b(o,D),b(o,$),b(i,_),b(i,h),C(l,h,null),t=!0},p(f,e){(!t||e&4)&&c!==(c=P(new Date(f[5].date),x.tz,"MMMM d, yyyy")+"")&&W(p,c),(!t||e&6&&d!==(d=f[1]+"/day/"+f[5].date))&&w(m,"href",d),(!t||e&4)&&u!==(u=P(new Date(f[5].date),x.tz,"EEEE")+"")&&W($,u);const a={};e&8&&(a.date=f[3].params.date),e&4&&(a.segments=f[5].segments),e&2&&(a.prefix=f[1]),e&1&&(a.bundle=f[0].bundle),l.$set(a)},i(f){t||(T(l.$$.fragment,f),t=!0)},o(f){I(l.$$.fragment,f),t=!1},d(f){f&&v(i),F(l)}}}function ie(r){let i,n,m,c,p,d,g,o,D,u,$,_,h;n=new le({props:{path:!1,type:"schedule"}}),g=new te({props:{data:r[0],highlightDay:r[3].params.date}});let l=r[2],t=[];for(let e=0;e<l.length;e+=1)t[e]=G(j(r,l,e));const f=e=>I(t[e],1,1,()=>{t[e]=null});return u=new ae({props:{type:"events"}}),_=new ne({props:{bundle:r[0].bundle}}),{c(){i=S(),q(n.$$.fragment),m=S(),c=M("div"),p=M("div"),d=M("div"),q(g.$$.fragment),o=S();for(let e=0;e<t.length;e+=1)t[e].c();D=S(),q(u.$$.fragment),$=S(),q(_.$$.fragment),this.h()},l(e){Q("svelte-3i5odb",document.head).forEach(v),i=V(e),A(n.$$.fragment,e),m=V(e),c=k(e,"DIV",{class:!0});var y=z(c);p=k(y,"DIV",{class:!0});var E=z(p);d=k(E,"DIV",{class:!0});var s=z(d);A(g.$$.fragment,s),o=V(s);for(let H=0;H<t.length;H+=1)t[H].l(s);D=V(s),A(u.$$.fragment,s),s.forEach(v),E.forEach(v),y.forEach(v),$=V(e),A(_.$$.fragment,e),this.h()},h(){document.title="Schedule | Berlin Blockchain Week 2024",w(d,"class","mx-4 xl:mx-0"),w(p,"class","max-w-7xl mx-auto pt-5 md:pt-10"),w(c,"class","w-full")},m(e,a){B(e,i,a),C(n,e,a),B(e,m,a),B(e,c,a),b(c,p),b(p,d),C(g,d,null),b(d,o);for(let y=0;y<t.length;y+=1)t[y].m(d,null);b(d,D),C(u,d,null),B(e,$,a),C(_,e,a),h=!0},p(e,[a]){const y={};if(a&1&&(y.data=e[0]),a&8&&(y.highlightDay=e[3].params.date),g.$set(y),a&15){l=e[2];let s;for(s=0;s<l.length;s+=1){const H=j(e,l,s);t[s]?(t[s].p(H,a),T(t[s],1)):(t[s]=G(H),t[s].c(),T(t[s],1),t[s].m(d,D))}for(Y(),s=l.length;s<t.length;s+=1)f(s);R()}const E={};a&1&&(E.bundle=e[0].bundle),_.$set(E)},i(e){if(!h){T(n.$$.fragment,e),T(g.$$.fragment,e);for(let a=0;a<l.length;a+=1)T(t[a]);T(u.$$.fragment,e),T(_.$$.fragment,e),h=!0}},o(e){I(n.$$.fragment,e),I(g.$$.fragment,e),t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)I(t[a]);I(u.$$.fragment,e),I(_.$$.fragment,e),h=!1},d(e){e&&v(i),F(n,e),e&&v(m),e&&v(c),F(g),U(t,e),F(u),e&&v($),F(_,e)}}}function oe(r,i,n){let m,c;X(r,ee,o=>n(3,c=o));let{data:p}=i,{prefix:d=""}=i;function g(o){const D=[];for(let u=0;u<x.days;u++){const $=P(re(new Date(x.date),u),x.tz,"yyyy-MM-dd"),_={start:$+"T00:00",end:$+"T23:59"};let h=[];for(const l of o)for(const t of l.segments)Z(new Date(t.startTime),new Date(_.end))<=0&&Z(new Date(t.startTime),new Date(_.start))>=0&&h.push({startTime:t.startTime,endTime:t.endTime,event:l,title:t.title,venues:t.venues||l.venues||!1});h=h.sort((l,t)=>l.startTime>t.startTime?1:-1),D.push({date:$,segments:h})}return D}return r.$$set=o=>{"data"in o&&n(0,p=o.data),"prefix"in o&&n(1,d=o.prefix)},r.$$.update=()=>{r.$$.dirty&1&&n(2,m=g(p.bundle.events))},[p,d,m,c]}class _e extends J{constructor(i){super(),K(this,i,oe,ie,O,{data:0,prefix:1})}}export{_e as default};
